<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Inova Bar: o melhor do samba na Zona Norte de São Paulo. Música ao vivo, ambiente acolhedor e cardápio exclusivo. Confira nossa programação!">
    <meta property="og:title" content="Vem pro Inova!">
    <meta property="og:description" content="Inova Bar: o melhor do samba na Zona Norte de São Paulo. Música ao vivo, ambiente acolhedor e cardápio exclusivo. Confira nossa programação!">
    <meta property="og:image" content="https://inovabar.com.br/assets/images/share.jpg?v=72d21794">
    <meta property="og:url" content="https://inovabar.com.br">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="theme-color" content="#000000">
    <title>Vem pro Inova!</title>
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400&family=Roboto:wght@300;400;700&family=Oswald:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="assets/images/favicon.png?v=72d21794">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<link rel="icon" type="image/png" href="https://firebasestorage.googleapis.com/v0/b/blacknight-600de.appspot.com/o/inovabar%2Ffavicon.png?alt=media&amp;token=085f11bc-3d0e-4951-b91c-f1112b75a5c8">
  

    <style>
        :root {
            --primary-color: #7714A6;
            --secondary-color: #C57AFF;
            --text-light: #FFFFFF;
            --text-muted: #FFFFFF80;
            --bg-dark: #000000;
            --spacing: 1rem;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-light);
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            padding: 0 var(--spacing);
            margin: 0 auto;
        }

        /* Header */
       header {
    padding: 4rem 0rem 0rem;
    text-align: center;
}

        .logo img {
            max-width: 150px;
        }

        /* Eventos Section */
        .eventos {
            padding: 2rem 0;
text-align: center;
        }

        .eventos h2 {
            font-family: 'Oswald', sans-serif;
            font-size: 1.5rem;
            text-transform: uppercase;
            color: var(--text-light);
            margin-bottom: 1.5rem;
            text-align: center;
        }

.event-card {
    background: #FFFFFF14;
    border-radius: 15px 15px 27px 27px;
    margin-bottom: 1.5rem;
    padding: 0.5rem;
    padding-bottom: 0.8rem;
    text-align: center;
}

        .event-card img {
            width: 100%;
            border-radius: 10px;
            margin-bottom: 1rem;
        }

        .event-card h3 {
    font-family: 'Roboto', sans-serif;
    font-size: 1rem;
    text-transform: uppercase;
    color: var(--text-light);
    margin-bottom: 0.5rem;
}

        .event-card .event-date {
    font-family: 'Sora', sans-serif;
    font-size: 1.5rem;
    color: var(--secondary-color);
    text-transform: uppercase;
    margin-bottom: 0.5rem;
}

        .event-card .event-description {
    font-family: 'Roboto', sans-serif;
    font-size: 1rem;
    color: var(--text-muted);
    margin-bottom: 0.5rem;
    text-transform: uppercase;
}

        .event-card .event-vip {
            font-family: 'Roboto', sans-serif;
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 0.5rem;
        }

        .event-buttons {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .event-buttons .btn {
            flex: 1;
            padding: 0.75rem;
            text-align: center;
            text-transform: uppercase;
            font-family: 'Sora', sans-serif;
            font-size: 0.9rem;
            border-radius: 25px;
            text-decoration: none;
            transition: background 0.3s, color 0.3s;
        }

        .event-buttons .btn-ingresso {
            background: transparent;
            color: var(--text-light);
            border: 1px solid var(--text-muted);
        }

        .event-buttons .btn-ingresso:hover {
            background: var(--secondary-color);
            color: var(--text-light);
            border-color: var(--secondary-color);
        }

        hr {
            margin: 1rem 0;
            color: inherit;
            border: 0;
            opacity: 0.25;
            border-top: 1px solid var(--text-muted);
        }

        /* Responsividade */
        @media (min-width: 992px) {
            .event-card {
                flex: 0 0 calc(33.333% - 1rem); /* 3 colunas no desktop com gap */
                max-width: calc(33.333% - 1rem);
            }
        }

        @media (min-width: 768px) and (max-width: 991px) {
            .event-card {
                flex: 0 0 calc(50% - 1rem); /* 2 colunas em tablets com gap */
                max-width: calc(50% - 1rem);
            }
        }

        @media (max-width: 767px) {
            .event-card {
                flex: 0 0 100%; /* 1 coluna em dispositivos móveis */
                max-width: 100%;
            }
        }

        @media (min-width: 768px) {
            .eventos {
    padding: 2rem 0;
    text-align: center;
}

            .event-card h3 {
                font-size: 1.5rem;
            }

            .event-card .event-date {
                font-size: 1.2rem;
            }

            .event-card .event-description,
            .event-card .event-vip {
                font-size: 1rem;
            }

            .event-buttons .btn {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img src="https://firebasestorage.googleapis.com/v0/b/blacknight-600de.appspot.com/o/inovabar%2Finova%3Dlogo.gif?alt=media&token=fd28b546-8e57-44c1-b8e3-27bab7c645e3" alt="Inova Bar Logo">
        </div>
    </header>

    <div class="container">
        <h2 class="mt-4 eventos">Próximos Eventos</h2>
        <div id="eventCardList" class="d-flex flex-wrap" style="gap: 1rem;">
            <!-- Os cartões de eventos serão inseridos aqui dinamicamente -->
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <script>
        // Configuração do Firebase com suas credenciais
        var firebaseConfig = {
            apiKey: "AIzaSyCLEyAd_4-2n2ID0xTjwS1ouip9G9C6JDs",
            authDomain: "blacknight-600de.firebaseapp.com",
            databaseURL: "https://blacknight-600de.firebaseio.com",
            projectId: "blacknight-600de",
            storageBucket: "blacknight-600de.appspot.com",
            messagingSenderId: "588926432348",
            appId: "1:588926432348:web:47b2b4a1b421d4b2a0e299",
            measurementId: "G-559VYPVJ5Q"
        };

        // Inicializar o Firebase
        firebase.initializeApp(firebaseConfig);

        const cliente = "inovabar";
        const eventCardList = document.getElementById("eventCardList");

        // Função para obter o dia da semana em formato abreviado
        function getDiaSemana(data) {
            var dias = ['DOM', 'SEG', 'TER', 'QUA', 'QUI', 'SEX', 'SAB'];
            return dias[new Date(data).getDay()];
        }

        // Função para formatar o mês em texto abreviado (ex.: MAR)
        function getMesAbrev(data) {
            var meses = ['JAN', 'FEV', 'MAR', 'ABR', 'MAI', 'JUN', 'JUL', 'AGO', 'SET', 'OUT', 'NOV', 'DEZ'];
            return meses[new Date(data).getMonth()];
        }

        // Função para formatar a data no estilo SEX 21.MAR 19H
        function formatEventDate(data) {
            var diaSemana = getDiaSemana(data);
            var dia = new Date(data).getDate().toString().padStart(2, '0');
            var mes = getMesAbrev(data);
            var hora = new Date(data).toLocaleTimeString('pt-BR', { hour: '2-digit' }) + 'H';
            return `${diaSemana} ${dia}.${mes} ${hora}`;
        }

        function listEvents() {
            const eventosRef = firebase.database().ref(`${cliente}/eventos`);
            eventosRef.orderByChild("data").on("value", (snapshot) => {
                eventCardList.innerHTML = "";

                if (!snapshot.exists()) {
                    console.error("Nenhum evento encontrado no Firebase.");
                    eventCardList.innerHTML = "<p>Nenhum evento disponível no momento.</p>";
                    return;
                }

                snapshot.forEach((childSnapshot) => {
                    const evento = childSnapshot.val();
                    const eventDateTime = new Date(evento.data);
                    const eventDateTimePlus7Hours = new Date(eventDateTime.getTime() + 7 * 60 * 60 * 1000); // Adiciona 7 horas

                    if (eventDateTimePlus7Hours >= new Date() && evento.club === false) {
                        const card = createEventCard(evento);
                        eventCardList.appendChild(card);
                    }
                });
            }, (error) => {
                console.error("Erro ao carregar eventos do Firebase:", error);
                eventCardList.innerHTML = "<p>Erro ao carregar eventos. Tente novamente mais tarde.</p>";
            });
        }

        function createEventCard(evento) {
            const card = document.createElement("div");
            card.classList.add("event-card");

            const eventDate = new Date(evento.data);
            const formattedDate = formatEventDate(evento.data);

            // Verificar se os campos existem e fornecer valores padrão se necessário
            const flyer = evento.flyer || "https://via.placeholder.com/300x200";
            const descricao = evento.descricao || "Evento sem descrição";
            const promocao = evento.promocao || "";
            const regra = evento.regra || "";
            const link = evento.link || "";
            const buttonTitle = evento.buttonTitle || "Lista Inova";

            card.innerHTML = `
                <img src="${flyer}" class="card-img-top" alt="${descricao} - Inova Bar">
                <h3>${descricao.toUpperCase()}</h3>
                <div class="event-date">${formattedDate}</div>
                ${promocao ? `<hr><div class="event-description">${promocao.toUpperCase()}</div>` : ""}
                ${regra ? `<div class="event-vip">${regra}</div>` : ""}
                <div class="event-buttons">
                    ${link && link.trim() !== "" ? `<a href="${link}" target="_blank" class="btn btn-ingresso">${buttonTitle}</a>` : ""}
                </div>
            `;

            return card;
        }

        // Chamar a função para listar os eventos
        listEvents();
    </script>

    <!-- Google Tag Manager -->
    <script>
        (function(w,d,s,l,i){
            w[l]=w[l]||[];
            w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
            var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),
                dl=l!='dataLayer'?'&l='+l:'';
            j.async=true;
            j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
            f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-KDTFQ6V');
    </script>
    <!-- End Google Tag Manager -->

    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KDTFQ6V" height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->
</body>
</html>
